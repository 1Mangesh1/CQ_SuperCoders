<!DOCTYPE html>
<html>
  <head>
    <title>Chat</title>
  </head>
  <body>
    <h1>Chat</h1>
    <div id="chat-box"></div>
    <form id="chat-form">
      <input
        type="text"
        id="chat-input"
        placeholder="Type your message here..."
      />
      <button type="submit">Send</button>
    </form>
    <script src="/socket.io/socket.io.js"></script>
    <!-- <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script> -->
    <script>
      const socket = io();
      socket.on("message", (message) => {
        const chatBox = document.getElementById("chat-box");
        const chatMessage = document.createElement("div");
        chatMessage.textContent = message.text;
        chatBox.appendChild(chatMessage);
      });

      const chatForm = document.getElementById("chat-form");
      chatForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const chatInput = document.getElementById("chat-input");
        const message = {
          text: chatInput.value,
        };
        socket.emit("message", message);
        chatInput.value = "";
      });
    </script>
  </body>
</html>
